valkey:
  # Use Valkey 9 (latest)
  image:
    repository: valkey/valkey
    tag: 9-alpine
  
  # Minimal configuration for pub/sub only
  architecture: standalone
  
  # Disable authentication for testing
  auth:
    enabled: false
  
  # Single replica
  master:
    resources:
      requests:
        cpu: 50m
        memory: 32Mi
      limits:
        cpu: 100m
        memory: 64Mi
    
    # Disable persistence - not needed for pub/sub
    persistence:
      enabled: false
  
  # Disable replicas for minimal setup
  replica:
    replicaCount: 0
  
  # Disable metrics and extras
  metrics:
    enabled: false
  
  sentinel:
    enabled: false
  
  # Minimal service
  service:
    type: ClusterIP
  
  # Disable unnecessary features
  commonConfiguration: |-
    # Disable RDB snapshots (not needed for pub/sub)
    save ""
    # Disable AOF
    appendonly no
    # Optimize for pub/sub
    maxmemory 48mb
    maxmemory-policy noeviction
